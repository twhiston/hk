import:
  - "github.com/spf13/cobra"
  - "errors"
  - "io/ioutil"
  - "github.com/twhiston/clitable"
commands:
    - id: stats
      type: get
      description: get your current stats
      long: returns the /overview endpoint
      responseType: StatsResponse
      path: overview
      hasResponse: true
    - id: timer
      type: get
      description: Do things with timers
      long: Get the current timer, or use subcommands to control timers
      responseType: TimerResponse
      path: timer
      hasResponse: true
    - id: types
      type: get
      parent: timer
      description: get the types of timer available
      long: returns the possible timer options for your hakuna instance, use these id's with timer commands
      responseType: TimerTypesResponse
      path: time_types
      hasResponse: true
      array: true
    - id: projects
      type: get
      array: true
      description: get a list of all projects
      responseType: ProjectResponse
      path: projects
    - id: time
      type: get
      description: get time entries
      long: get time entries for a specific date
      responseType: TimeEntryResponseArray
      path: time_entries
      hasResponse: true
      array: true
      parameterHandler: timeParamHandler
      params:
        - name: date
          type: string
          usage: enter the date that you want to look for details of. If left blank will use todays date
          value: "\"\""
          short: d
    - id: entry
      type: get
      parent: time
      description: get a time entry specified by an id
      long: returns a specific time entry, which is given as an argument to the command
      responseType: TimeEntryResponse
      path: time_entries
      hasResponse: true
      index:
        arg: 0
        required: true
    - id: absences
      type: get
      description: Get absences for a specific year
      long: If no year is supplied will default to the current year
      responseType: AbsenceResponseArray
      array: true
      path: absences
      parameterHandler: absenceParamHandler
      hasResponse: true
      params:
        - name: year
          type: string
          usage: the year to look for
          value: "\"\""

    - id: start
      type: post
      parent: timer
      description: Starts a new timer
      long: Creates a new running timer starting from now
      responseType: TimerResponse
      path: timer
      payloadType: TimerStartPayload
      postDataHandler: fillStartTimerData
      expectedStatus: 201
      params:
        - name: id
          type: int
          usage: enter the id of the timer payload, should correspond to a timer type ID, default 1
          value: 1

    - id: create
      type: post
      parent: time
      description: Create a time entry in the calendar
      long: ""
      path: time_entries
      payloadType: TimeEntryPayload
      responseType: TimeEntryResponse
      postDataHandler: fillRequiredTimeEntryData
      hasResponse: true
      expectedStatus: 201
      params:
        - name: start
          type: string
          usage: enter the start date in the format yyyy-dd-mmThh:mm
          value: "\"\""
        - name: end
          type: string
          usage: enter the start date in the format yyyy-dd-mmThh:mm
          value: "\"\""
        - name: time-id
          type: int
          usage: enter the time type id. You can get these with the types command, defaults to 1 which is usually Arbeit
          value: 1
        - name: project-id
          type: int
          usage: optional project id
          value: 0
        - name: note
          type: string
          usage: optional note to add to the entry
          value: "\"\""

    - id: edit
      type: patch
      parent: time
      description: Edit a time entry
      long: ""
      path: time_entries
      payloadType: TimeEntryPayload
      responseType: TimeEntryResponse
      postDataHandler: fillOptionalTimeEntryData
      expectedStatus: 200
      params:
        - name: start
          type: string
          usage: enter the start date in the format yyyy-dd-mmThh:mm
          value: "\"\""
        - name: end
          type: string
          usage: enter the start date in the format yyyy-dd-mmThh:mm
          value: "\"\""
        - name: time-id
          type: int
          usage: enter the time type id. You can get these with the types command, defaults to 1 which is usually Arbeit
          value: 1
        - name: project-id
          type: int
          usage: optional project id
          value: 0
        - name: note
          type: string
          usage: optional note to add to the entry
          value: "\"\""
      index:
        arg: 0
        required: true

    - id: stop
      type: put
      parent: timer
      description: stop a timer
      long: stops a timer and optionally sets a stop time
      responseType: TimeEntryResponse
      path: timer
      payloadType: TimerStopPayload
      hasResponse: true
      expectedStatus: 200

    - id: cancel
      type: delete
      parent: timer
      description: cancel a timer
      long: deletes the currently running timer
      path: timer
      expectedStatus: 205
    - id: delete
      type: delete
      parent: time
      description: delete a time
      long: deletes a time via it's id.
      path: time_entries
      expectedStatus: 204
      index:
        arg: 0
        required: true